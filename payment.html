<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Payment | Earn With Rashid</title>
    <style>
        :root{
            --bg:#0f0f0f;
            --card:#1a1a1a;
            --muted:#dcdcdc;
            --accent:#ff6a00;
            --panel:#262626;
        }
        *{box-sizing:border-box}
        body { margin: 0; font-family: Arial, sans-serif; background: var(--bg); color: #fff; }
        .container { max-width: 820px; margin: 30px auto; background: var(--card); padding: 25px; border-radius: 16px; box-shadow: 0 0 20px rgba(255,106,0,0.25); display:grid; grid-template-columns: 1fr 420px; gap:20px; }
        @media (max-width:880px){ .container{ grid-template-columns: 1fr; padding:18px } }
        h2 { text-align: left; color: var(--accent); font-size: 22px; margin-bottom: 12px; }
        .plans { padding-right:6px }
        .plan { background:var(--panel); padding:15px; border-radius:12px; margin-bottom:18px; border-left:4px solid var(--accent); }
        .plan h3 { margin:0; color:var(--accent); font-size:18px; }
        .plan p { margin:6px 0; color:var(--muted); font-size:14px; }
        .select-btn { width:100%; padding:12px; background:var(--accent); border:none; color:#fff; border-radius:10px; font-size:15px; margin-top:10px; cursor:pointer; }
        .hidden { display:none; }
        input, textarea { width:100%; padding:12px; border-radius:10px; background:var(--panel); border:none; color:#fff; margin-top:6px; box-sizing:border-box; }
        .submit-btn { width:100%; padding:14px; background:linear-gradient(45deg,var(--accent),#c24700); border:none; color:#fff; border-radius:12px; font-size:15px; cursor:pointer; margin-top:12px; }
        .wallets { position:sticky; top:20px }
        .wallet-box { background:var(--panel); padding:15px; border-radius:12px; text-align:center; border:1px solid rgba(255,106,0,0.4); margin-bottom:14px; color:#fff; }

        /* PREMIUM BADGE POPUP STYLE */
        .profit-badge {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg,#1aff85,#0fbf5f);
            color:#000;
            padding:12px 20px;
            border-radius:40px;
            font-size:15px;
            font-weight:bold;
            box-shadow:0 0 20px rgba(0,255,120,0.5);
            animation: popBadge 0.6s ease;
            z-index:9999;
        }
        @keyframes popBadge {
            0% { transform:translateX(-50%) scale(0.4); opacity:0; }
            60% { transform:translateX(-50%) scale(1.2); opacity:1; }
            100% { transform:translateX(-50%) scale(1); opacity:1; }
        }

        /* Modal */
        .modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center; z-index:2000; }
        .modal{ background:#111; padding:18px; border-radius:12px; max-width:520px; color:#fff; box-shadow:0 8px 30px rgba(0,0,0,0.6); }
        .modal h4{ margin:0 0 8px 0; color:var(--accent); }
        .modal p{ margin:6px 0; color:var(--muted); }
        .modal .btn{ margin-top:12px; display:inline-block; padding:10px 14px; background:var(--accent); color:#fff; border-radius:10px; cursor:pointer; border:none; }

        .small{ font-size:13px; color:var(--muted) }
        .mono{ font-family:monospace; word-break:break-all }
    </style>
</head>
<body>

<div class="profit-badge hidden" id="profitBadge" aria-live="polite" role="status"></div>

<div class="container" role="main">
    <div class="plans" id="leftCol">
        <h2>Choose Your Trading Plan</h2>

        <div class="plan">
            <h3>PLAN A — Beginner Safe Boost</h3>
            <p><strong>Invest:</strong> $100 – $500</p>
            <p><strong>Return:</strong> 20% Same Day Evening</p>
            <p><strong>Risk:</strong> Zero Risk</p>
            <button class="select-btn" onclick="selectPlan('A')">Select Plan A</button>
        </div>

        <div class="plan">
            <h3>PLAN B — Fast Growth Plan</h3>
            <p><strong>Invest:</strong> $1000 – $3000</p>
            <p><strong>Return:</strong> 50% Guaranteed</p>
            <p><strong>Risk:</strong> Very Low</p>
            <button class="select-btn" onclick="selectPlan('B')">Select Plan B</button>
        </div>

        <div class="plan">
            <h3>PLAN C — Power Elite 7‑Day</h3>
            <p><strong>Invest:</strong> $4000+</p>
            <p><strong>Return:</strong> 3× in 7 Days</p>
            <p><strong>Risk:</strong> 5% normal delay chances</p>
            <button class="select-btn" onclick="selectPlan('C')">Select Plan C</button>
        </div>

        <div id="step2" class="hidden">
            <h2>Enter Telegram ID</h2>
            <input id="telegram" placeholder="Your Telegram ID (example: @username)" aria-label="Telegram ID" />

            <h2 style="margin-top:12px">Your Registration Token</h2>
            <input id="token" readonly aria-readonly="true" />

            <p class="small" style="color:#ff9a3c;">⚠ Please save your Token ID before investing.</p>

            <button class="submit-btn" onclick="goPayment()">Proceed to Payment</button>
        </div>

        <div id="paymentSection" class="hidden">
            <h2>Complete Your Payment</h2>

            <div style="margin-top:6px">
                <label class="small">Upload Payment Proof</label>
                <input id="proofFile" type="file" accept="image/*" />
            </div>

            <h3 style="margin-top:12px;">Enter Your Transaction ID (TXID)</h3>
            <input id="txidInput" type="text" placeholder="Enter TXID here" />

            <button id="submitPaymentBtn" class="submit-btn">Submit Payment</button>
        </div>

    </div>

    <aside class="wallets" id="rightCol">
        <h2>Payment Details</h2>

        <div class="wallet-box">
            <p><strong>USDT TRC20 Wallet</strong></p>
            <p id="trcAddr" class="mono">TFdPRm4vJQTOW73QV2Lj2ao8DPx47w1PEu</p>
            <button class="select-btn" onclick="copyWallet('trcAddr')">Copy TRC20 Address</button>
        </div>

        <div class="wallet-box">
            <p><strong>USDT ERC20 Wallet</strong></p>
            <p id="ercAddr" class="mono">0xeFfb345c1ACFFb3604B1157A839c6625ed5278B1</p>
            <button class="select-btn" onclick="copyWallet('ercAddr')">Copy ERC20 Address</button>
        </div>

        <div class="wallet-box">
            <p><strong>Scan QR to Pay (TRC20)</strong></p>
            <img id="qrImg" src="" width="180" alt="QR code" />
        </div>

        <div class="wallet-box small">
            <p><strong>Notes</strong></p>
            <p class="small">After submitting TXID, payment will be verified manually. Keep your Token and Telegram ID safe for withdrawals.</p>
        </div>
    </aside>

</div>

<!-- Modal backdrop for token message -->
<div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true">
    <div class="modal" role="document">
        <h4>Save Your Token</h4>
        <p id="modalTokenText" class="mono"></p>
        <p class="small">You will need this token for withdrawal verification. Keep it safe.</p>
        <div style="text-align:right;">
            <button id="modalCloseBtn" class="btn">Got it</button>
        </div>
    </div>
</div>

<script>
// --- State ---
let userPlan = '';
const profitNames = ["Rashid","Imran","Aisha","Bilal","Khan","Adeel","Faraz","Sana","Hussain","Noman"];

function selectPlan(p) {
    userPlan = p;
    document.getElementById('step2').classList.remove('hidden');
    // Generate token immediately when plan selected (but keep it hidden until user proceeds)
    const tokenInput = document.getElementById('token');
    if (!tokenInput.value) tokenInput.value = generateToken();
    // Scroll to telegram input for better UX on small screens
    setTimeout(()=>{ document.getElementById('telegram').focus(); },120);
}

function generateToken() {
    // 10-character alphanumeric token (uppercased)
    return Math.random().toString(36).substring(2, 12).toUpperCase();
}

function goPayment() {
    const tgElem = document.getElementById('telegram');
    const tg = tgElem.value && tgElem.value.trim();
    if (!tg) {
        alert('Please enter Telegram ID');
        tgElem.focus();
        return;
    }

    const token = document.getElementById('token').value || generateToken();
    document.getElementById('token').value = token;

    // Show modal with token and instructions (better UX than alert)
    const modal = document.getElementById('modalBackdrop');
    document.getElementById('modalTokenText').innerText = token;
    modal.style.display = 'flex';

    // when user closes modal, show payment section
    document.getElementById('modalCloseBtn').onclick = function(){
        modal.style.display = 'none';
        document.getElementById('paymentSection').classList.remove('hidden');
        // populate QR image for TRC20
        const trc = document.getElementById('trcAddr').innerText.trim();
        document.getElementById('qrImg').src = 'https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=tron:' + encodeURIComponent(trc);
        // focus txid input
        setTimeout(()=>{ document.getElementById('txidInput').focus(); },120);
    };
}

function copyWallet(id){
    const el = document.getElementById(id);
    const text = el ? el.innerText.trim() : '';
    if (!text) return alert('No address to copy');
    if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(()=> alert('Wallet address copied!')).catch(()=> fallbackCopy(text));
    } else fallbackCopy(text);
}
function fallbackCopy(text){
    const ta = document.createElement('textarea');
    ta.value = text; document.body.appendChild(ta); ta.select();
    try{ document.execCommand('copy'); alert('Wallet address copied!'); }catch(e){ alert('Copy failed. Select the address and copy manually.'); }
    ta.remove();
}

// --- Payment submission ---
document.getElementById('submitPaymentBtn').addEventListener('click', function(){
    const txidElem = document.getElementById('txidInput');
    const txid = txidElem.value && txidElem.value.trim();
    if (!txid) { alert('Please enter TXID before submitting.'); txidElem.focus(); return; }

    const plan = userPlan || 'unknown';
    const tg = document.getElementById('telegram').value || '';
    const token = document.getElementById('token').value || '';
    const time = new Date().toISOString();

    const proofInput = document.getElementById('proofFile');
    const file = proofInput && proofInput.files && proofInput.files[0] ? proofInput.files[0] : null;

    // if proof file present, read as DataURL and store; otherwise store filename as empty
    function saveRecord(proofData){
        const record = { plan, tg, token, txid, time, status: 'Pending', proofName: file ? file.name : '', proofData: proofData || '' };
        try{
            const list = JSON.parse(localStorage.getItem('txList') || '[]');
            list.push(record);
            localStorage.setItem('txList', JSON.stringify(list));
        }catch(e){ console.error('Failed to save in localStorage', e); }

        alert('Your TXID has been submitted. Awaiting manual verification.');
        // Optionally clear txid and proof
        txidElem.value = '';
        proofInput.value = '';
    }

    if (file) {
        const reader = new FileReader();
        reader.onload = function(e){
            saveRecord(e.target.result);
        };
        reader.onerror = function(){
            // still save metadata if read fails
            saveRecord('');
        };
        reader.readAsDataURL(file);
    } else {
        saveRecord('');
    }
});

// --- PREMIUM BADGE POPUP SYSTEM ---
function showProfitBadge(){
    const badge = document.getElementById('profitBadge');
    let name = profitNames[Math.floor(Math.random()*profitNames.length)];
    let amount = Math.floor(Math.random()*2500)+150;
    badge.innerText = `${name} earned $${amount}`;
    badge.classList.remove('hidden');
    setTimeout(()=>{ badge.classList.add('hidden'); },1800);
}
setInterval(showProfitBadge, 2200);

// populate initial QR (in case someone opens payment details directly)
(function init(){
    const trc = document.getElementById('trcAddr').innerText.trim();
    document.getElementById('qrImg').src = 'https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=tron:' + encodeURIComponent(trc);
})();

</script>
</body>
</html>
